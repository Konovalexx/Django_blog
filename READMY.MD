# Онлайн-платформа сельского рынка "Путь Ильича"

## Описание проекта

Этот проект представляет собой онлайн-рынок, предназначенный для 
сельскохозяйственной продукции. Платформа позволяет пользователям регистрироваться,
создавать, редактировать и удалять товары, управлять их версиями, а также проходить
проверку аккаунта через email. Основная цель проекта — предоставить удобный 
интерфейс для управления товарами, организованными по категориям, с функциями 
модерирования и контроля контента. 

Проект также включает систему управления пользователями с функциями регистрации, 
авторизации, подтверждения email и восстановления пароля.

### Основные возможности:

1. **Регистрация и авторизация**: Пользователи могут регистрироваться на 
платформе, указывая свою почту и пароль. После регистрации необходимо подтвердить 
email.
2. **Подтверждение email**: После регистрации пользователи получают письмо с 
подтверждением на указанный email, чтобы активировать свой аккаунт.
3. **Восстановление пароля**: Система позволяет пользователям восстанавливать 
доступ к аккаунту через email.
4. **Создание, редактирование и удаление продуктов**: Пользователи могут добавлять
свои товары, загружать изображения, указывать цену, категорию и описание продукта.
5. **Управление версиями продуктов**: Каждый продукт может иметь несколько версий,
однако только одна версия может быть активной. Это позволяет обновлять информацию 
о товарах без удаления старых данных.
6. **Модерация и фильтрация контента**: Заголовки и описания продуктов проходят 
автоматическую проверку на наличие запрещенных слов и контента.
7. **Просмотр информации о продукте**: Включает детальное описание, цену, 
категорию, количество просмотров и актуальную версию продукта.
8. **Административная панель**: Администраторы могут управлять пользователями, 
видеть их статус подтверждения email, а также модерировать товары.

### Управление пользователями:

- **Регистрация**: Пользователи могут зарегистрироваться с указанием email, 
пароля и дополнительной информации, такой как аватар, номер телефона и страна.
- **Подтверждение email**: После регистрации пользователи получают email для 
подтверждения, который включает уникальный токен для верификации.
- **Авторизация**: Пользователи могут входить в систему, используя свой email и 
пароль. Вход возможен только после подтверждения email.
- **Восстановление пароля**: Пользователи могут сбросить забытый пароль через email.
- **Администрирование**: Администраторы могут просматривать и управлять 
пользователями через административную панель Django, контролируя их статус
верификации email и другие данные.

## Установка и настройка

### 1. Клонирование репозитория:
git clone https://github.com/ваш-репозиторий/marketplace.git
cd marketplace
2. Установка зависимостей:
Создайте виртуальное окружение и активируйте его:
python -m venv venv
source venv/bin/activate  # Для Windows используйте `venv\Scripts\activate`

Установите необходимые пакеты:
Копировать код
pip install -r requirements.txt

3. Настройка базы данных:
Выполните миграции для инициализации базы данных:
python manage.py migrate

4. Создание суперпользователя:
Для доступа к административной панели Django создайте суперпользователя:
python manage.py createsuperuser

5. Запуск сервера:
После успешной настройки вы можете запустить сервер разработки:
python manage.py runserver
Перейдите по адресу http://127.0.0.1:8000/, чтобы увидеть платформу.

6. Запуск демо-версии товаров:
Чтобы загрузить демо-данные товаров и пользователей, выполните следующие команды:

python manage.py makemigrations
python manage.py migrate
python manage.py loaddata fixtures/data_groups.json
python manage.py loaddata fixtures/data_users_utf8.json
python manage.py loaddata fixtures/data_catalog_utf8.json
Эти команды создадут структуру базы данных и заполнят её тестовыми данными для 
пользователей и товаров.



Структура проекта
Приложение пользователей (users):
models.py: Определена модель CustomUser, представляющая пользователя с полями
для email, аватара, номера телефона, страны и статуса верификации email.

forms.py: Включает формы для регистрации, входа и восстановления пароля, а также
дополнительные поля для аватара и контактной информации.

views.py: Реализованы представления для регистрации, подтверждения email, 
восстановления пароля и авторизации.

urls.py: Определены маршруты для регистрации, подтверждения email, восстановления 
пароля и входа/выхода.

admin.py: Определены настройки административной панели для управления 
пользователями.



Приложение каталога (catalog):
models.py: Определены модели Product, ProductVersion и Category, которые 
представляют товары, их версии и категории соответственно.

forms.py: Включает формы для управления продуктами и их версиями, с дополнительной
валидацией данных.

views.py: Реализованы классовые представления для списка продуктов, деталей 
продукта, создания, редактирования и удаления продуктов и их версий.

urls.py: Определены маршруты для работы с продуктами и их версиями.

templates/: Шаблоны для отображения информации о продуктах, включая базовый шаблон
base.html.

Зависимости
Django >= 3.2
Pillow (для работы с изображениями)
Bootstrap (для стилизации интерфейса)